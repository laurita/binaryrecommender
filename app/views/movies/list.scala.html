@(movies: List[Movie], user: User)

@main("Movies list") {	
	<div class="container">
		<h4>Rate as many movies as you can.</h4>
		<div class="row">
			<div class="span12">
				<div id="list-movie" class="content scaffold-list" role="main">
					<table class="table table-striped">
						<thead>
							<tr>
								<th></th>
								<th></th>	
							</tr>
						</thead>
						<tbody>
							@for(movie <- movies) {
								<tr class="movie-id-@{movie.movieId}">
									<td>
										<figure>
											<img class="thumbnail" src="@routes.Assets.at("images/movies/" + movie.movieId + ".jpg")" />
										</figure>
									</td>
									<td>
										<h3>
											<a href="@routes.Movies.details(movie.movieId)">@movie.title</a>
										</h3>
										<span>@stars()</span>
										<span>@movie.description</span>
									</td>
								</tr>
							}
						</tbody>
					</table>
					
				</div>
			</div>
		</div>
		
		<div class="pagination"></div>
        
		@if((user != null) && !user.stage1Done) {			
			<div class="row">
				<div class="span2 offset5">
					<a class="btn btn-primary" href="@routes.Application.answerQuestions()">I am finished with the rating</a>
				</div>
			</div>
		}
		
		
		<script type="text/javascript">
		
		$(document).ready(function () {
					$('.table tbody tr').hide();
					$('.table tbody tr').slice(0, 10).show();
					

	        var options = {
	            currentPage: 1,
	            totalPages: 10,
							alignment: "center",
							onPageChanged:
								function (event, oldPage, newPage) {
									$('.table tbody tr').slice((newPage - 1) * 10, newPage * 10).show();
									$('.table tbody tr').slice((oldPage - 1) * 10, oldPage * 10).hide();
								}
	        }

	        $('.pagination').bootstrapPaginator(options);
			
		});
		
		</script>
}

